webpackJsonp([6],{23:function(e,t,i){function r(e){i(50)}var s=i(2)(i(33),i(58),r,"data-v-0cd773fc",null);e.exports=s.exports},33:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=i(7),s=i.n(r),a=i(1);t.default={name:"editAddress",data:function(){return{addrId:"",receiverName:"",receiverTel:"",receiverProvinceId:"",receiverCityId:"",receiverCountyId:"",combineAddr:"",receiverAddr:"",isDefaultAddr:0}},methods:{save:function(){var e=s()("#receiverAddr").val();if(!this.receiverName)return mui.toast("请输入收货人!"),!1;if(!this.receiverTel)return mui.toast("请输入联系方式!"),!1;if(!/^1[34578]\d{9}$/.test(this.receiverTel))return mui.toast("请输入正确联系方式"),!1;var t=s()("#province").val(),i=s()("#city").val(),r=s()("#county").val()?s()("#county").val():"";if(null==t||""==t)return mui.toast("请选择省份!"),!1;if(null==i||""==i)return mui.toast("请选择市!"),!1;if(!e)return mui.toast("请输入详细地址!"),!1;s()("#isDefault").hasClass("mui-active")&&(this.isDefaultAddr=1);var d={addrId:this.addrId,receiverName:this.receiverName,receiverTel:this.receiverTel,receiverProvinceId:t,receiverCityId:i,receiverCountyId:r,receiverAddr:this.receiverAddr,isDefault:this.isDefaultAddr};console.log(d),this.$http.post("m/account/userAddress/updateAddress",{addrId:this.addrId,receiverName:this.receiverName,receiverTel:this.receiverTel,receiverProvinceId:t,receiverCityId:i,receiverCountyId:r,receiverAddr:this.receiverAddr,isDefault:this.isDefaultAddr}).then(function(e){console.log(e),"success"==e.body.result&&(mui.toast("提交成功"),a.a.push({name:"Address"}))})}},filters:{},computed:{addressToEdit:function(){return this.$store.state.addressToEdit}},mounted:function(){var e=i(57),t=this;e(["../../../static/mobile/js/mui.min.js","../../../static/mobile/css/mui/mui.picker.css","../../../static/mobile/css/mui/mui.poppicker.css","../../../static/mobile/js/mui/mui.picker.js","../../../static/mobile/js/mui/mui.poppicker.js","../../../static/mobile/js/mui/city.data-1.js"]),setTimeout(function(){mui.init(),mui.ready(function(){var e=new mui.PopPicker({layer:3});e.setData(cityData3),document.getElementById("showCityPicker").addEventListener("tap",function(i){var r=this,s=(document.getElementById("province"),document.getElementById("city"),document.getElementById("county"),"");e.show(function(e){s=(e[2]||{}).text?"-"+(e[2]||{}).text:"",r.value=(e[0]||{}).text+" - "+(e[1]||{}).text+s,t.combineAddr=r.value,t.receiverCountyId=(e[2]||{}).value?(e[2]||{}).value:"",t.receiverProvinceId=(e[0]||{}).value,t.receiverCityId=(e[1]||{}).value})},!1)})},1e3),this.addressToEdit&&this.addressToEdit.addrId&&(this.addrId=this.addressToEdit.addrId,this.receiverName=this.addressToEdit.receiverName,this.receiverTel=this.addressToEdit.receiverTel,this.receiverProvinceId=this.addressToEdit.receiverProvinceId||"",this.receiverCityId=this.addressToEdit.receiverCityId||"",this.receiverCountyId=this.addressToEdit.receiverCountyId||"",this.receiverAddr=this.addressToEdit.receiverAddr,this.isDefaultAddr=this.addressToEdit.isDefaultAddr,this.combineAddr=this.addressToEdit.receiverProvinceName+"-"+this.addressToEdit.receiverCityName+"-"+this.addressToEdit.countyName,this.$store.commit("emptyAddressToEdit"))},created:function(){},components:{}}},43:function(e,t,i){t=e.exports=i(21)(!0),t.push([e.i,"","",{version:3,sources:[],names:[],mappings:"",file:"edit_address.vue",sourceRoot:""}])},50:function(e,t,i){var r=i(43);"string"==typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);i(22)("5f5c934a",r,!0)},57:function(e,t,i){var r,s,a;!function(i,d){s=[],r=d,void 0!==(a="function"==typeof r?r.apply(t,s):r)&&(e.exports=a)}(0,function(){function e(e,t){e=e.push?e:[e];var i,r,s,a,d=[],o=e.length,v=o;for(i=function(e,i){i.length&&d.push(e),--v||t(d)};o--;)r=e[o],s=c[r],s?i(r,s):(a=n[r]=n[r]||[],a.push(i))}function t(e,t){if(e){var i=n[e];if(c[e]=t,i)for(;i.length;)i[0](e,t),i.splice(0,1)}}function i(e,t,r,s){var d,c,n=document,o=r.async,v=(r.numRetries||0)+1,u=r.before||a;s=s||0,/(^css!|\.css$)/.test(e)?(d=!0,c=n.createElement("link"),c.rel="stylesheet",c.href=e.replace(/^css!/,"")):(c=n.createElement("script"),c.src=e,c.async=void 0===o||o),c.onload=c.onerror=c.onbeforeload=function(a){var n=a.type[0];if(d&&"hideFocus"in c)try{c.sheet.cssText.length||(n="e")}catch(e){n="e"}if("e"==n&&(s+=1)<v)return i(e,t,r,s);t(e,n,a.defaultPrevented)},!1!==u(e,c)&&n.head.appendChild(c)}function r(e,t,r){e=e.push?e:[e];var s,a,d=e.length,c=d,n=[];for(s=function(e,i,r){if("e"==i&&n.push(e),"b"==i){if(!r)return;n.push(e)}--d||t(n)},a=0;a<c;a++)i(e[a],s,r)}function s(e,i,s){var c,n;if(i&&i.trim&&(c=i),n=(c?s:i)||{},c){if(c in d)throw"LoadJS";d[c]=!0}r(e,function(e){e.length?(n.error||a)(e):(n.success||a)(),t(c,e)},n)}var a=function(){},d={},c={},n={};return s.ready=function(t,i){return e(t,function(e){e.length?(i.error||a)(e):(i.success||a)()}),s},s.done=function(e){t(e,[])},s.reset=function(){d={},c={},n={}},s.isDefined=function(e){return e in d},s})},58:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("div",{attrs:{id:"page"}},[e._m(0),e._v(" "),i("div",{staticClass:"mui-content"},[i("ul",{staticClass:"tbviewlist"},[i("li",{staticClass:"input-wrap"},[i("div",{staticClass:"hd"},[e._v("收货人")]),e._v(" "),i("div",{staticClass:"bd"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.receiverName,expression:"receiverName"}],attrs:{type:"text",id:"receiverName",placeholder:"填写收件人姓名"},domProps:{value:e.receiverName},on:{input:function(t){t.target.composing||(e.receiverName=t.target.value)}}})]),e._v(" "),i("span",{staticClass:"delete"})]),e._v(" "),i("li",{staticClass:"input-wrap"},[i("div",{staticClass:"hd"},[e._v("联系电话")]),e._v(" "),i("div",{staticClass:"bd"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.receiverTel,expression:"receiverTel"}],attrs:{id:"receiverTel",type:"number",placeholder:"填写收件人手机号码"},domProps:{value:e.receiverTel},on:{input:function(t){t.target.composing||(e.receiverTel=t.target.value)}}})]),e._v(" "),i("span",{staticClass:"delete"})]),e._v(" "),i("li",[i("div",{staticClass:"hd"},[e._v("选择地址")]),e._v(" "),i("div",{staticClass:"bd"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.receiverProvinceId,expression:"receiverProvinceId"}],attrs:{type:"hidden",id:"province",name:"province"},domProps:{value:e.receiverProvinceId},on:{input:function(t){t.target.composing||(e.receiverProvinceId=t.target.value)}}}),e._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:e.receiverCityId,expression:"receiverCityId"}],attrs:{type:"hidden",id:"city",name:"city"},domProps:{value:e.receiverCityId},on:{input:function(t){t.target.composing||(e.receiverCityId=t.target.value)}}}),e._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:e.receiverCountyId,expression:"receiverCountyId"}],attrs:{type:"hidden",id:"county",name:"county"},domProps:{value:e.receiverCountyId},on:{input:function(t){t.target.composing||(e.receiverCountyId=t.target.value)}}}),e._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:e.combineAddr,expression:"combineAddr"}],attrs:{id:"showCityPicker",type:"text",placeholder:"省-市-区/县"},domProps:{value:e.combineAddr},on:{input:function(t){t.target.composing||(e.combineAddr=t.target.value)}}})])]),e._v(" "),i("li",[i("div",{staticClass:"hd"},[e._v("详细地址")]),e._v(" "),i("div",{staticClass:"bd"},[i("textarea",{directives:[{name:"model",rawName:"v-model",value:e.receiverAddr,expression:"receiverAddr"}],attrs:{id:"receiverAddr",placeholder:"详细地址（街道/门牌号）"},domProps:{value:e.receiverAddr},on:{input:function(t){t.target.composing||(e.receiverAddr=t.target.value)}}})])])]),e._v(" "),i("div",{staticClass:"tbviewlist"},[i("ul",[i("li",[i("a",{attrs:{href:"javascript:void(0);"},on:{click:function(t){e.isDefaultAddr=0==e.isDefaultAddr?1:0}}},[i("div",{staticClass:"r"},[i("div",{staticClass:"mui-switch mui-switch-mini",class:{"mui-active":1==e.isDefaultAddr},attrs:{id:"isDefault"}},[i("div",{staticClass:"mui-switch-handle"})])]),e._v(" "),i("div",{staticClass:"c"},[e._v("设置默认地址")])])])])]),e._v(" "),i("div",{staticClass:"btnbar"},[i("a",{staticClass:"mui-btn mui-btn-block mui-btn-primary",attrs:{href:"javascript:void(0);",id:"saveBtn"},on:{click:e.save}},[e._v("保存")])])])])])},staticRenderFns:[function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("header",{staticClass:"mui-bar mui-bar-nav"},[i("a",{staticClass:"mui-icon mui-icon-left-nav",attrs:{href:"javascript:history.back(-1)"}}),e._v(" "),i("h1",{staticClass:"mui-title"},[e._v("收货地址")]),e._v(" "),i("a",{staticClass:"mui-icon"})])}]}}});
//# sourceMappingURL=6.9ab771cff1c2ed396b2c.js.map