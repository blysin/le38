<!DOCTYPE HTML>
<html>
<head>
    <title></title>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
    <link href="../css/dpl.css" rel="stylesheet" type="text/css"/>
    <link href="../css/bui.css" rel="stylesheet" type="text/css"/>
    <link href="../css/main.css" rel="stylesheet" type="text/css"/>
    <link href="../css/page.css" rel="stylesheet" type="text/css"/>
    <link href="../css/theme-01.css" rel="stylesheet" type="text/css"/>
</head>
<body>


<div class="container">
    <div class="title-bar">
        <div id="tab">

        </div>
    </div>
    
	<div class="content-top">
        <div>
            <div class="tips-wrap tips tips-small tips-notice"><span class="x-icon x-icon-small x-icon-warning"><i class="icon icon-white icon-volume-up"></i></span>
                <div class="tips-content">提示:   当用户付款成功后才减库存。</div>
            </div>
        </div>
        <div id="tab_0" class="bui-inline-block">
            <ul class="bui-tab link-tabs" aria-disabled="false" aria-pressed="false">
                <li class="bui-tab-item bui-tab-item-selected" aria-disabled="false" aria-pressed="false"><a href="javascript:void(0)">上架商品</a></li>
                <li class="bui-tab-item" aria-disabled="false" aria-pressed="false"><a href="javascript:void(0)">下架商品</a></li>
            </ul>
        </div>
    
        <select name="productGroup" id="productGroup_0">
            <option value="">所有品牌</option>
        </select>
    
        <select name="productBrand" id="productBrand_0">
            <option value="">所有商品类别</option>
        </select>
    </div>
    
    <div class="content-body">
		<div class="title-bar-side">
			<div class="search-bar">
				<form>
					<input class="control-text" type="text" placeholder="下单人手机号"/>
					<button></button>
				</form>
			</div>
			<div class="search-content">
				<form id="searchForm" class="form-horizontal search-form">
					<div class="row">
						<div class="control-group span8">
							<label class="control-label">商品编码：</label>
							<div class="controls">
								<input type="text" name="a" class="control-text">
							</div>
						</div>
					</div>
					<div class="row">
						<div class="control-group span8">
							<label class="control-label">商品名称：</label>
							<div class="controls">
								<input type="text" name="b" class="control-text">
							</div>
						</div>
					</div>
					<div class="row">
						<div class="control-group span8">
							<label class="control-label">是否参与微店返利：</label>
							<div class="controls">
								<select>
									<option></option>
								</select>
							</div>
						</div>
					</div>
					<div class="row">
						<div class="control-group span8">
							<label class="control-label">是否参与URL返利：</label>
							<div class="controls">
								<select>
									<option></option>
								</select>
							</div>
						</div>
					</div>
					<div class="row">
						<div class="control-group span8">
							<label class="control-label">是否设置推广费：</label>
							<div class="controls">
								<select>
									<option></option>
								</select>
							</div>
						</div>
					</div>
					<div class="row">
						<div class="control-group span8">
							<label class="control-label">上架渠道：</label>
							<div class="controls">
								<select>
									<option></option>
								</select>
							</div>
						</div>
					</div>
					<div class="row">
						<div class="control-group span8">
							<label class="control-label">是否加入购物车：</label>
							<div class="controls">
								<select>
									<option></option>
								</select>
							</div>
						</div>
					</div>
					<div class="row">
						<div class="control-group span8">
							<label class="control-label">商品条码：</label>
							<div class="controls">
								<input type="text" name="c" class="control-text">
							</div>
						</div>
					</div>
					<div class="row">
						<div class="form-actions offset3">
							<button id="btnSearch" type="submit" class="button button-primary">搜索</button>
						</div>
					</div>
				</form>
			</div>
		</div>
        <div id="grid"></div>
    </div>

</div>
<script type="text/javascript" src="../js/jquery-1.8.1.min.js"></script>
<script type="text/javascript" src="../js/bui.js"></script>
<script type="text/javascript" src="../js/config.js"></script>
<script type="text/javascript" src="../js/admin.js"></script>
<script type="text/javascript">
    var Tab = BUI.Tab;
    var tab = new Tab.Tab({
        render : '#tab',
        elCls : 'nav-tabs',
        autoRender: true,
        children:[
            {text:'线上商品',value:'1'},{text:'线下商品',value:'2'}
        ]
    });
    tab.on('selectedchange',function (ev) {
        var item = ev.item;
        $('#log').text(item.get('text') + ' ' + item.get('value'));
    });
    tab.setSelected(tab.getItemAt(0));

	var mask;
	$('.title-bar-side .search-bar input').on('focus',function(){
		var $this = $(this);
		var searchCon = $this.closest('.title-bar-side').find('.search-content');
		$this.addClass("focused");
		if(!mask)
			mask = $('<div></div>').css({
				'position':'absolute',
				'left':0,
				'top':0,
				'width':'100%',
				'height':'100%'
			}).appendTo(document.body);
		searchCon.show(400);
		mask.on('click',function(){
			$this.removeClass("focused");
			mask.remove();
			mask = null;
			searchCon.hide(400);
		});
	});

    var Grid = BUI.Grid,
            Toolbar = BUI.Toolbar,
            Data = BUI.Data;
    var Grid = Grid,
            Store = Data.Store,
            columns = [{
				title : '操作',
				dataIndex :'a',
				width:60
			},{
				title : '图片',
				dataIndex :'b',
				width:60
			},{
				title : '二维码',
				dataIndex : 'c',
				width:60
			},{
				title : '商品编码',
				dataIndex : 'd',
				width:80
			},{
				title : '名称',
				dataIndex : 'e',
				width:100
			},{
				title : '品牌',
				dataIndex : 'f',
				width:100
			},{
				title : '所属分类',
				dataIndex : 'g',
				width:80
			},{
				title : '挂牌价',
				dataIndex : 'h',
				width:60
			},{
				title : '零售价',
				dataIndex : 'i',
				width:60
			},{
				title : '更新时间',
				dataIndex : 'j',
				width:120
			},{
				title : '分销奖励',
				dataIndex : 'k',
				width:80
			},{
				title : 'URL返利',
				dataIndex : 'l',
				width:80
			},{
				title : '微店返利',
				dataIndex : 'm',
				width:80
			},{
				title : '是否上架',
				dataIndex : 'n',
				width:80
			},{
				title : '上架渠道',
				dataIndex : 'o',
				width:100
			},{
				title : '是否加入购物车',
				dataIndex : 'p',
				width:160
			}],
data = [{a:'123',b:1},{a:'cdd',b:'edd'},{a:'1333',c:'eee',d:2},{a:'1333',c:'eee',d:2},{a:'1333',c:'eee',d:2},{a:'1333',c:'eee',d:2},{a:'1333',c:'eee',d:2},{a:'1333',c:'eee',d:2},{a:'1333',c:'eee',d:2},{a:'1333',c:'eee',d:2},{a:'1333',c:'eee',d:2},{a:'1333',c:'eee',d:2},{a:'1333',c:'eee',d:2},{a:'1333',c:'eee',d:2},{a:'1333',c:'eee',d:2},{a:'1333',c:'eee',d:2},{a:'1333',c:'eee',d:2},{a:'1333',c:'eee',d:2},{a:'1333',c:'eee',d:2},{a:'1333',c:'eee',d:2},{a:'1333',c:'eee',d:2},{a:'1333',c:'eee',d:2},{a:'1333',c:'eee',d:2}];

    var store = new Store({
                data : data,
                autoLoad:true,
                pageSize:'20'
            }),
            grid = new Grid.Grid({
                width: '100%',
                height: getContentHeight(),
                render:'#grid',
                columns : columns,
                // 顶部工具栏
                tbar:{
                    // items:工具栏的项， 可以是按钮(bar-item-button)、 文本(bar-item-text)、 默认(bar-item)、 分隔符(bar-item-separator)以及自定义项
                    items:[{
							btnCls : 'button button-small',
							text:'新建商品'
						},{
							btnCls : 'button button-small',
							text:'复制'
						},{
							btnCls : 'button button-small',
							text:'上架'
						},{
							btnCls : 'button button-small',
							text:'下架'
						},{
							btnCls : 'button button-small',
							text:'导出'
						},{
							btnCls : 'button button-small',
							text:'导出二维码'
						},{
							btnCls : 'button button-small',
							text:'导入商品',
							handler:addimport
						},{
							btnCls : 'button button-small',
							text:'维护商品单位'
						}]
                },
                // 底部工具栏
                bbar:{
                    // pagingBar:表明包含分页栏
                    pagingBar:true
                },
                store : store,
				plugins : [BUI.Grid.Plugins.ColumnResize]
            });
    grid.render();

	function addimport(){
		app.page.open({
			href:'main/goods_import.html'
		});
	}
</script>
</body>
</html>  