<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
    <link rel="stylesheet" href="../css/dpl.css" type="text/css">
    <link rel="stylesheet" href="../css/bui.css" type="text/css">
    <link rel="stylesheet" href="../css/main.css" type="text/css">
    <link rel="stylesheet" href="../css/page.css" type="text/css">
    <link rel="stylesheet" href="../css/yradmin.css" type="text/css">
    <link rel="stylesheet" href="../css/metroStyle.css" type="text/css">
<title></title>
</head>
<body>
    <div class="container">
        <ul class="breadcrumb">
            <li><a href="#">商品管理</a> <span class="divider">&gt;&gt;</span></li>
            <li class="active">编辑商品</li>
        </ul>
        <div id="tab">

        </div>

        <div class="clearfix" style="position: relative; padding-left: 238px;">
            <div class="prd-pics" style="position:absolute; left: 0; top: 0; width: 220px;">
                <div class="prd-upload">
                    <div class="prd-upload-icon">
                        <img src="http://mallo2o.xmyr.cn/cmsstatic/product/null/1466394801383267.png?smallBrowse" style="width: 150px;height: 150px;">
                    </div>
                </div>
                <div class="prd-thumblist" style="padding:0 20px;">
                    <p style="text-align: left;">Fotile/方太 ZTD100J-J45E消毒柜嵌入式家用消毒碗柜镶嵌新品上市</p>
                    <p style="text-align: left;"><em>售价:</em> ¥6000.00</p>
                    <p style="text-align: left;"><em>原价:</em></p>
                    <p style="text-align: left;"><em>货号:</em></p>
                    <hr>
                    <p style="text-align: left;">
                        评价得分：
                        <img src="../images/star-off.png">
                        <img src="../images/star-off.png">
                        <img src="../images/star-off.png">
                        <img src="../images/star-off.png">
                        <img src="../images/star-off.png">
                    </p>
                    <p style="text-align: left;">评价数：0</p>
                </div>
            </div>

            <div class="form-horizontal" style="min-width: 416px;">
                <div class="panel mb10">
                    <div class="panel-header"><h3>通常销售价格设置</h3></div>
                    <div class="panel-body">
                        <div class="control-group">
                            <label class="control-label">挂牌价格：</label>
                            <div class="controls">
                                <input name="salePrice" type="text" class="input-small control-text">
                                <input type="checkbox">
                                <label>显示"挂牌价格"字眼</label>
                            </div>
                        </div>
                        <div class="control-group">
                            <label class="control-label"><s>*</s>默认销售价格：</label>
                            <div class="controls">
                                <input name="" type="text" class="input-small control-text" placeholder="百分比"> <label>用户在特定区域外或者无区域的时候显示价格</label>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="panel mb10">
                    <div class="panel-header"><h3>会员通用价格设置(会员折扣价)</h3></div>
                        <div class="panel-body">
                            <div class="control-group">
                                <div class="controls">如果有单独设置区域价.则会员折扣会在区域价的基础上进行计算。</div>
                            </div>
                            <div class="control-group">
                                <label class="control-label">注册会员：</label>
                                <div class="controls">
                                    <input name="salePrice" type="text" class="input-small control-text" placeholder="百分比"> <label>%</label>
                                </div>
                            </div>
                            <div class="control-group">
                                <label class="control-label">银卡会员：</label>
                                <div class="controls">
                                    <input name="salePrice" type="text" class="input-small control-text" placeholder="百分比"> <label>%</label>
                                </div>
                            </div>
                            <div class="control-group">
                                <label class="control-label">金卡会员：</label>
                                <div class="controls">
                                    <input name="salePrice" type="text" class="input-small control-text" placeholder="百分比"> <label>%</label>
                                </div>
                            </div>
                            <div class="control-group">
                                <label class="control-label">钻石会员：</label>
                                <div class="controls">
                                    <input name="salePrice" type="text" class="input-small control-text" placeholder="百分比"> <label>%</label>
                                </div>
                            </div>
                        </div>
                </div>
                <div class="panel">
                    <div class="panel-header"><h3>区域价格设置</h3></div>
                    <div class="panel-body">
                        <div class="control-group">
                            <label class="control-label">商品状态：</label>
                            <div class="controls">
                                上架　　　<label>基础商品状态如果为下架.则全部区域为下架状态.不管是否在区域内设置了上架</label>
                            </div>
                        </div>
                        <div class="control-group">
                            <div class="controls">
                                未添加的区域在前台则按照通用价格显示,单独下架某区域的商品.不会影响到其他区域。
                            </div>
                        </div>
                    </div>
                </div>
                <div class="content-body">
                    <ul id="treeDemo" class="ztree"></ul>
                    <div class="actions-bar">
                        <button type="submit" class="button button-primary">批量修改价格</button>
                        <button type="submit" class="button button-primary">保存</button>
                        <button type="submit" class="button button-primary">重置</button>
                    </div>
                </div>
            </div>
        </div>
    </div>
</body>
</html>
<script type="text/javascript" src="../js/jquery-1.8.1.min.js"></script>
<script type="text/javascript" src="../js/bui.js"></script>
<script type="text/javascript" src="../js/config.js"></script>
<script type="text/javascript" src="../js/admin.js"></script>
<script type="text/javascript" src="../js/zTree_master/jquery.ztree.core.js"></script>
<script type="text/javascript" src="../js/zTree_master/jquery.ztree.excheck.js"></script>
<script type="text/javascript">
    BUI.use('common/page');
    var Tab = BUI.Tab;
    var tab = new Tab.Tab({
        render : '#tab',
        elCls : 'nav-tabs',
        autoRender: true,
        children:[
            {text:'基本信息',value:'1'},
            {text:'详细信息',value:'2'},
            {text:'销售区域价格',value:'3'},
            {text:'商品评价设置',value:'4'}
        ]
    });
    tab.on('selectedchange',function (ev) {
        var item = ev.item;
        $('#log').text(item.get('text') + ' ' + item.get('value'));
    });
    tab.setSelected(tab.getItemAt(2));


    var setting = {
        view: {
            addDiyDom: addDiyDom,
            //removeHoverDom: removeHoverDom,
            selectedMulti: false
        },
        check: {
            enable: true
        },
        data: {
            simpleData: {
                enable: true
            }
        }
    };

    var zNodes =[
        { id:1, pId:0, name:"父节点1", open:true},
        { id:11, pId:1, name:"父节点11"},
        { id:111, pId:11, name:"叶子节点111"},
        { id:112, pId:11, name:"叶子节点112"},
        { id:113, pId:11, name:"叶子节点113"},
        { id:114, pId:11, name:"叶子节点114"},
        { id:22, pId:1, name:"父节点11"},
        { id:221, pId:22, name:"叶子节点111"},
        { id:222, pId:22, name:"叶子节点112"},
        { id:223, pId:22, name:"叶子节点113"},
        { id:224, pId:22, name:"叶子节点114"}
    ];

    $(document).ready(function(){
        $.fn.zTree.init($("#treeDemo"), setting, zNodes);
    });

    var newCount = 1;
    function addDiyDom(treeId, treeNode) {
        var sObj = $("#" + treeNode.tId + "_span");
        if (treeNode.editNameFlag || $("#addBtn_"+treeNode.tId).length>0) return;
        var addStr = "&nbsp;&nbsp;<input type='text' placeholder='吊牌价' class='input-small control-text' id='addBtn_" + treeNode.tId + "'>"+
                "&nbsp;&nbsp;&nbsp;&nbsp;"+
                "<input type='text' placeholder='销售价' class='input-small control-text' id='addBtn2_" + treeNode.tId + "'>";
        sObj.after(addStr);
    };
</script>