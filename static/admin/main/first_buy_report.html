<!DOCTYPE HTML>
<html>
<head>
    <title></title>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
    <link href="../css/dpl.css" rel="stylesheet" type="text/css"/>
    <link href="../css/bui.css" rel="stylesheet" type="text/css"/>
    <link href="../css/main.css" rel="stylesheet" type="text/css"/>
    <link href="../css/page.css" rel="stylesheet" type="text/css"/>
    <link href="../css/theme-01.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div class="container">
    <div class="title-bar">
        <div id="tab">
        </div>

    </div>
    <div class="content-top">
        <form class="form-horizontal search-form mb0" method="get">
            <div class="row mb10">
                <div class="control-group">
                    <div class="controls  control-row-auto ml0">
                        下单时间：
                        <input type="text" class="calendar control-text">
                        <span class="mr5">至</span>
                        <input type="text" class="calendar control-text">
                        <span class="ml">会员类型：</span>
                        <select class="mr5">
                            <option>全部</option>
                        </select>
                        <span class="ml">购买渠道：</span>
                        <select class="mr5">
                            <option>全部</option>
                        </select>
                    </div>
                </div>
            </div>
            <div class="row mb10">
                <div class="control-group">
                    <div class="controls  control-row-auto ml0">
                        手机号码：
                        <input type="text" class="control-text">
                        <span class="ml">订单号：</span>
                        <input type="text" class="control-text">
                        <span class="ml">注册时间：</span>
                        <input type="text" class="calendar control-text">
                        <span class="mr5">至</span>
                        <input type="text" class="calendar control-text">
                        <button class="button button-primary">搜索</button>
                        <button class="button ml">导出</button>
                    </div>
                </div>
            </div>
            <div class="row">
                <div class="control-group">
                    <div class="controls control-row-auto ml0">
                        <label class="control-label control-label-auto mr30">
                            首次购买会员总数：<span class="red">10</span>
                        </label>
                        <label class="control-label control-label-auto mr30">
                            首次购买总金额：<span class="red">0</span>
                        </label>
                    </div>
                </div>
            </div>
        </form>
    </div>

    <div class="content-body">
        <div id="grid"></div>
    </div>
</div>
<script type="text/javascript" src="../js/jquery-1.8.1.min.js"></script>
<script type="text/javascript" src="../js/bui.js"></script>
<script type="text/javascript" src="../js/config.js"></script>
<script type="text/javascript" src="../js/admin.js"></script>
<script type="text/javascript">
    var Tab = BUI.Tab;
    var tab = new Tab.Tab({
        render : '#tab',
        elCls : 'nav-tabs',
        autoRender: true,
        children:[
            {text:'会员首次购买报表',value:'1'}
        ]
    });
    tab.on('selectedchange',function (ev) {
        var item = ev.item;
        $('#log').text(item.get('text') + ' ' + item.get('value'));
    });
    tab.setSelected(tab.getItemAt(0));

    var Grid = BUI.Grid,
        Toolbar = BUI.Toolbar,
        Data = BUI.Data;
    var Grid = Grid,
        Store = Data.Store,
        columns = [{
            title : '注册时间',
            dataIndex :'a',
            width:200
        },{
            title : '用户手机号',
            dataIndex :'b',
            width:100
        },{
            title : '用户名',
            dataIndex : 'c',
            width:100
        },{
            title : '会员类型',
            dataIndex : 'd',
            width:100
        },{
            title : '购买渠道',
            dataIndex : 'e',
            width:100
        },{
            title : '订单来源门店',
            dataIndex : 'f',
            width:150
        },{
            title : '订单来源微店主手机号',
            dataIndex : 'g',
            width:150
        },{
            title : '配送门店',
            dataIndex : 'h',
            width:150
        },{
            title : '所属大区',
            dataIndex : 'i',
            width:150
        },{
            title : '所属分公司',
            dataIndex : 'j',
            width:150
        },{
            title : '所属办事处',
            dataIndex : 'k',
            width:150
        },{
            title : '订单编号',
            dataIndex : 'l',
            width:100
        },{
            title : '订单应支付金额',
            dataIndex : 'm',
            width:100
        },{
            title : '下单时间',
            dataIndex : 'n',
            width:200
        }],
        data = [{a:'200'},{a:'cdd',b:'edd'},{a:'1333',c:'eee',d:2},{a:'1333',c:'eee',d:2},{a:'1333',c:'eee',d:2}];

    var store = new Store({
            data : data,
            autoLoad:true,
            pageSize:'20'
        }),
        grid = new Grid.Grid({
            width: '100%',
            height:getContentHeight(),
            render:'#grid',
            columns : columns,
            tbar:{
                items:[{
                    btnCls : 'button button-small',
                    text:'导出全部报表',
                }]
            },
            // 底部工具栏
            bbar:{
                // pagingBar:表明包含分页栏
                pagingBar:true
            },
            store : store
        });
    grid.render();

    BUI.use('bui/calendar',function(Calendar){
        var datepicker = new Calendar.DatePicker({
            trigger:'.calendar',
            //delegateTrigger : true, //如果设置此参数，那么新增加的.calendar元素也会支持日历选择
            autoRender : true,
            align :{
                node: 'trigger',     // 参考元素, falsy 或 window 为可视区域, 'trigger' 为触发元素, 其他为指定元素
                points: ['tl','tl'], // ['tr', 'tl'] 表示 overlay 的 tl 与参考节点的 tr 对齐
                offset: [0, 30]    // 有效值为 [n, m]
            }
        });
    });
</script>
</body>
</html>  